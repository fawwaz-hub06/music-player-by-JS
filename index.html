<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ðŸŽ§ Just Vibe It</title>
    <link rel="icon" type="images/png" href="vibe-icon.png">
    <link href="https://fonts.googleapis.com/css2?family=Jost&display=swap" rel="stylesheet">
    <link href='https://cdn.jsdelivr.net/npm/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="container">
        <h4>Just Vibe-it</h4>
        <img src="" id="track-image" width="200" height="200">
        <p id="title">Title.mp3</p>
        <!-- <p id="artist">Artist name</p> -->
        <input type="range" id="duration_slider">
        <div class="buttons">
            <button onclick="previous_song()" id="pre"><i class='bx bx-skip-previous'></i></button>
            <button onclick="justplay()" id="play"><i class='bx bx-play'></i></button>
            <button onclick="next_song()" id="next"><i class='bx bx-skip-next'></i></button>
        </div>
    </div>
    <div class="pdiv"><p>Song <span id="present">1</span> / <span id="total">3</span></p> </div>

    <script>
        let previous = document.querySelector("#pre");
        let play = document.querySelector("#play");
        let next = document.querySelector("#next");
        let artist = document.querySelector("#artist");
        let title = document.querySelector("#title");
        let slider = document.querySelector("#duration_slider");
        let trackImage = document.querySelector("#track-image");
        let present = document.querySelector("#present");
        let total = document.querySelector("#total");

        let timer;
        let autoplay = 1;

        let index_no = 0;
        let playing_song = false;

        let track = document.createElement('audio');

        let all_songs = [
            {
                name: "Champagini",
                path: "musics/Champagini.mp3",
                img: "images/Champagini-From-Think-Indie-Tamil-2025.jpg",
                artist: "Asal kolar",
            },
            {
                name: "Beer-Song",
                path: "musics/Beer-Song-MassTamilan.dev.mp3",
                img: "images/Diesel-Tamil-2023-.jpg",
                artist: "Dhibu Ninan Thomas, Gaana Guna, and Rokesh ",
            },
            {
                name: "Og Sambavam",
                path: "musics/Og Sambavam.mp3",
                img: "images/og sambavam.jpeg",
            },

            {
                name: "Certified Self Made",
                path: "musics/Certified Self Made.mp3",
                img: "images/Certified-Self-Made-Tamil-2025.jpg"
            },

            {
                name: "Chikkama",
                path: "musics/Chikkama.mp3",
                img: "images/chikama.jpg",         
            }
        ];

        function load_track(index_no) {
            clearInterval(timer);
            reset_slider();
            track.src = all_songs[index_no].path;
            track.load();
            title.innerHTML = all_songs[index_no].name;
            trackImage.src = all_songs[index_no].img;
            present.innerHTML = index_no + 1;
            total.innerHTML = all_songs.length;
            timer = setInterval(range_slider, 1000);
        }

        function reset_slider() {
            slider.value = 0;
        }

        function justplay() {
            if (!playing_song) {
                playsong();
            } else {
                pausesong();
            }
        }

        function playsong() {
            track.play();
            playing_song = true;
            play.innerHTML = "<i class='bx bx-pause'></i>";
        }

        function pausesong() {
            track.pause();
            playing_song = false;
            play.innerHTML = "<i class='bx bx-play'></i>";
        }

        function next_song() {
            index_no = (index_no + 1) % all_songs.length;
            load_track(index_no);
            playsong();
        }

        function previous_song() {
            index_no = (index_no - 1 + all_songs.length) % all_songs.length;
            load_track(index_no);
            playsong();
        }

        function range_slider() {
            let position = 0;
            if (!isNaN(track.duration)) {
                position = track.currentTime * (100 / track.duration);
                slider.value = position;
            }
        }

        load_track(index_no);
    </script>

</body>
</html>
